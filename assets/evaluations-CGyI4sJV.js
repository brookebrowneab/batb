import{d}from"./index-CvLlIQq8.js";async function s(){const{data:a,error:e}=await d.from("audition_window_config").select("id, audition_date, dance_start_time, dance_end_time").not("dance_start_time","is",null).not("dance_end_time","is",null).order("audition_date",{ascending:!0});return{data:(a||[]).map(t=>({id:t.id,audition_date:t.audition_date,start_time:t.dance_start_time,end_time:t.dance_end_time,label:null})),error:e}}async function u(){return s()}async function o(){const[{data:a,error:e},n]=await Promise.all([s(),d.from("students").select("id, first_name, last_name, grade, registration_complete").eq("registration_complete",!0).order("last_name",{ascending:!0}).order("first_name",{ascending:!0})]);if(e)return{data:[],error:e};if(n.error)return{data:[],error:n.error};const t=[];for(const r of a||[])for(const i of n.data||[])t.push({id:`${i.id}_${r.id}`,student_id:i.id,dance_window_id:r.id,students:i,dance_window:r});return{data:t,error:null}}async function _(){return o()}async function f(a){const{data:e,error:n}=await d.from("student_evaluations").select("*, staff_profiles:staff_user_id(id, display_name, role)").eq("student_id",a).order("created_at",{ascending:!1});return{data:e||[],error:n}}async function l(a,e,n,t){const{data:r,error:i}=await d.from("student_evaluations").insert({student_id:a,staff_user_id:e,track:n,notes:t}).select().single();return{data:r,error:i}}async function m(a,e){const{data:n,error:t}=await d.from("student_evaluations").update({notes:e,updated_at:new Date().toISOString()}).eq("id",a).select().single();return{data:n,error:t}}export{o as a,_ as b,f as c,l as d,u as f,m as u};
