import{d as i}from"./index-DpHEjNAw.js";async function u(a){if(!a)return null;const t=a.context;if(!t||typeof t.text!="function")return a;let e="";try{e=await t.text()}catch{return a}let o=e;try{const n=JSON.parse(e);o=(n==null?void 0:n.error)||(n==null?void 0:n.message)||e}catch{}const s=typeof t.status=="number"?t.status:null,r=s?` (status ${s})`:"";return new Error(`${o||a.message}${r}`)}async function d({to:a,subject:t,text:e,html:o=null}){const{data:s,error:r}=await i.functions.invoke("send-notification-email",{body:{to:a,subject:t,text:e,html:o}}),n=await u(r);return{data:s,error:n}}async function f(a){var n,c;const{data:t}=await i.auth.getSession(),e=((c=(n=t==null?void 0:t.session)==null?void 0:n.user)==null?void 0:c.id)||null,{data:o,error:s}=await i.functions.invoke("send-registration-schedule-email",{body:{studentId:a,userId:e}}),r=await u(s);return{data:o,error:r}}export{d as a,f as s};
