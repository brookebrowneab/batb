import{d as n}from"./index-Bv59R015.js";async function _(e){const{data:t,error:a}=await n.from("students").select("*").eq("family_account_id",e).order("created_at",{ascending:!0});return{data:t||[],error:a}}async function f({familyAccountId:e,firstName:t,lastName:a,grade:r,studentEmail:s,createdByUserId:d}){const i={family_account_id:e,first_name:t,last_name:a,grade:r,created_by_user_id:d,updated_by_user_id:d};s&&(i.student_email=s);const{data:o,error:c}=await n.from("students").insert(i).select().single();return{data:o,error:c}}async function l(e){const{data:t,error:a}=await n.from("students").select("*").eq("id",e).single();return{data:t,error:a}}async function m(e,t,a){const{data:r,error:s}=await n.from("students").update({...t,updated_by_user_id:a,updated_at:new Date().toISOString()}).eq("id",e).select().single();return{data:r,error:s}}async function p(e){const{error:t}=await n.from("students").delete().eq("id",e);return{error:t}}async function y(){const{data:e,error:t}=await n.from("students").select(`
      id, first_name, last_name, grade, registration_complete,
      parent_first_name, parent_last_name, parent_email,
      callback_invited, created_at, updated_at,
      student_role_preferences(id, audition_role_id, rank_order, audition_roles(id, name))
    `).order("last_name",{ascending:!0}).order("first_name",{ascending:!0});return{data:(e||[]).map(r=>({...r,role_preferences:r.student_role_preferences||[]})),error:t}}export{y as a,l as b,f as c,p as d,_ as f,m as u};
